<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المتجر - متجر R7 الإلكتروني</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">متجر R7</div>
        <nav>
            <ul class="main-menu">
                <li><a href="index.html">الرئيسية</a></li>
                <li><a href="about.html">عن المتجر</a></li>
                <li><a href="team.html">طاقم الإدارة</a></li>
                <li><a href="rules.html">القوانين</a></li>
                <li><a href="store.html" class="active">المتجر</a></li>
                <li><a href="shop-link.html">رابط المتجر</a></li>
                <li><a href="https://discord.gg/wZQHQdvRsJ" target="_blank">دسكورد</a></li>
                <li><a href="faq.html">الأسئلة الشائعة</a></li>
                <li><a href="contact.html">اتصل بنا</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <div class="cart-icon" id="cart-icon">
                <span class="material-icons">shopping_cart</span>
                <span class="cart-count">0</span>
            </div>
            <a href="login.html" class="login-link">تسجيل الدخول</a>
        </div>

        <!-- سلة التسوق -->
        <div class="cart-sidebar" id="cart-sidebar">
            <div class="cart-header">
                <h3>سلة التسوق</h3>
                <button class="close-cart" id="close-cart">×</button>
            </div>
            <div class="cart-items" id="cart-items">
                <!-- ستتم إضافة العناصر هنا بواسطة JavaScript -->
                <div class="empty-cart">
                    <p>سلة التسوق فارغة</p>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <span>المجموع:</span>
                    <span id="cart-total">0 ريال</span>
                </div>
                <a href="payment.html" class="checkout-btn" id="checkout-btn">إتمام الشراء</a>
            </div>
        </div>
        <div class="cart-overlay" id="cart-overlay"></div>
    </header>

    <main>
        <section class="store-page">
            <h1>المتجر</h1>
            <p class="section-desc">تصفح منتجاتنا المميزة بأسعار تنافسية</p>

            <div class="store-filters">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="ابحث عن منتج...">
                    <button id="search-btn"><span class="material-icons">search</span></button>
                </div>
                <div class="filter-options">
                    <select id="category-filter">
                        <option value="all">جميع الفئات</option>
                        <option value="nitro">نيترو</option>
                        <option value="boost">بوستات</option>
                        <option value="bot">بوتات</option>
                        <option value="special">عروض خاصة</option>
                    </select>
                    <select id="price-filter">
                        <option value="all">جميع الأسعار</option>
                        <option value="low">الأقل سعراً</option>
                        <option value="high">الأعلى سعراً</option>
                    </select>
                </div>
            </div>

            <div class="products-grid">
                <div class="product" data-category="nitro" data-price="20">
                    <div class="product-image">
                        <img src="images/products/nitro.jpg" alt="نيترو ديسكورد">
                        <div class="product-badge">الأكثر مبيعاً</div>
                    </div>
                    <h3>نيترو</h3>
                    <p class="product-desc">اشترك في نيترو ديسكورد بأفضل الأسعار</p>
                    <div class="product-features">
                        <span class="feature">جودة بث عالية</span>
                        <span class="feature">إيموجي مخصصة</span>
                        <span class="feature">ملفات أكبر</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star_half</span>
                        <span class="rating-count">(120)</span>
                    </div>
                    <p class="price">20 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="nitro" data-price="20">إضافة للسلة</button>
                    </div>
                </div>

                <div class="product" data-category="boost" data-price="15">
                    <div class="product-image">
                        <img src="images/products/boost.jpg" alt="بوستات ديسكورد">
                    </div>
                    <h3>بوستات</h3>
                    <p class="product-desc">احصل على بوستات مميزة لسيرفرك</p>
                    <div class="product-features">
                        <span class="feature">زيادة مستوى السيرفر</span>
                        <span class="feature">مميزات حصرية</span>
                        <span class="feature">دعم فني</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star_outline</span>
                        <span class="rating-count">(85)</span>
                    </div>
                    <p class="price">15 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="boost" data-price="15">إضافة للسلة</button>
                    </div>
                </div>

                <div class="product" data-category="bot" data-price="99">
                    <div class="product-image">
                        <img src="images/products/bot.jpg" alt="بوت R7">
                        <div class="product-badge">جديد</div>
                    </div>
                    <h3>بوت R7</h3>
                    <p class="product-desc">بوت متطور بمميزات فريدة لسيرفرك</p>
                    <div class="product-features">
                        <span class="feature">أوامر متنوعة</span>
                        <span class="feature">حماية متقدمة</span>
                        <span class="feature">تخصيص كامل</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="rating-count">(42)</span>
                    </div>
                    <p class="price">99 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="bot" data-price="99">إضافة للسلة</button>
                    </div>
                </div>

                <div class="product" data-category="special" data-price="50">
                    <div class="product-image">
                        <img src="images/products/special.jpg" alt="عروض خاصة">
                        <div class="product-badge">خصم 20%</div>
                    </div>
                    <h3>عروض خاصة</h3>
                    <p class="product-desc">باقات مميزة بخصومات حصرية</p>
                    <div class="product-features">
                        <span class="feature">توفير 20%</span>
                        <span class="feature">دعم أولوي</span>
                        <span class="feature">هدايا إضافية</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star_outline</span>
                        <span class="rating-count">(67)</span>
                    </div>
                    <p class="price">50 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="special" data-price="50">إضافة للسلة</button>
                    </div>
                </div>

                <div class="product" data-category="nitro" data-price="35">
                    <div class="product-image">
                        <img src="images/products/nitro.jpg" alt="نيترو ديسكورد بلس">
                    </div>
                    <h3>نيترو بلس</h3>
                    <p class="product-desc">اشترك في نيترو ديسكورد بلس مع مميزات إضافية</p>
                    <div class="product-features">
                        <span class="feature">جودة بث عالية</span>
                        <span class="feature">إيموجي مخصصة</span>
                        <span class="feature">ملفات أكبر</span>
                        <span class="feature">مميزات إضافية</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="rating-count">(95)</span>
                    </div>
                    <p class="price">35 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="nitro-plus" data-price="35">إضافة للسلة</button>
                    </div>
                </div>

                <div class="product" data-category="boost" data-price="25">
                    <div class="product-image">
                        <img src="images/products/boost.jpg" alt="بوستات ديسكورد بلس">
                    </div>
                    <h3>بوستات بلس</h3>
                    <p class="product-desc">احصل على بوستات مميزة لسيرفرك مع مميزات إضافية</p>
                    <div class="product-features">
                        <span class="feature">زيادة مستوى السيرفر</span>
                        <span class="feature">مميزات حصرية</span>
                        <span class="feature">دعم فني</span>
                        <span class="feature">مميزات إضافية</span>
                    </div>
                    <div class="product-rating">
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star</span>
                        <span class="material-icons">star_half</span>
                        <span class="rating-count">(73)</span>
                    </div>
                    <p class="price">25 ريال</p>
                    <div class="product-actions">
                        <a href="payment.html" class="buy-btn">شراء الآن</a>
                        <button class="add-to-cart-btn" data-product="boost-plus" data-price="25">إضافة للسلة</button>
                    </div>
                </div>
            </div>

            <div class="payment-info">
                <h2>طرق الدفع</h2>
                <p>يمكنك الدفع بسهولة عبر منصة ديسكورد</p>
                <p>للتواصل والدفع، انضم إلى سيرفر الديسكورد الخاص بنا</p>
                <a href="https://discord.gg/wZQHQdvRsJ" target="_blank" class="payment-btn">الانضمام للديسكورد</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">متجر R7</div>
            <div class="footer-links">
                <a href="index.html">الرئيسية</a>
                <a href="about.html">عن المتجر</a>
                <a href="team.html">طاقم الإدارة</a>
                <a href="rules.html">القوانين</a>
                <a href="store.html">المتجر</a>
                <a href="shop-link.html">رابط المتجر</a>
                <a href="faq.html">الأسئلة الشائعة</a>
                <a href="contact.html">اتصل بنا</a>
                <a href="privacy.html">سياسة الخصوصية</a>
            </div>
            <div class="social-links">
                <a href="#" class="social-link">تويتر</a>
                <a href="#" class="social-link">انستغرام</a>
                <a href="https://discord.gg/wZQHQdvRsJ" class="social-link">ديسكورد</a>
            </div>
        </div>
        <p>جميع الحقوق محفوظة &copy; 2023 متجر R7</p>
    </footer>

    <script>
        // سلة التسوق
        const cartIcon = document.getElementById('cart-icon');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartOverlay = document.getElementById('cart-overlay');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartCount = document.querySelector('.cart-count');
        const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
        const checkoutBtn = document.getElementById('checkout-btn');

        // مصفوفة لتخزين عناصر السلة
        let cart = [];

        // فتح سلة التسوق
        cartIcon.addEventListener('click', () => {
            cartSidebar.classList.add('active');
            cartOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        // إغلاق سلة التسوق
        function closeCartSidebar() {
            cartSidebar.classList.remove('active');
            cartOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        closeCart.addEventListener('click', closeCartSidebar);
        cartOverlay.addEventListener('click', closeCartSidebar);

        // إضافة منتج إلى السلة
        addToCartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const product = button.getAttribute('data-product');
                const price = parseInt(button.getAttribute('data-price'));
                const productElement = button.closest('.product');
                const name = productElement.querySelector('h3').textContent;
                const image = productElement.querySelector('.product-image img').src;

                // التحقق مما إذا كان المنتج موجودًا بالفعل في السلة
                const existingItem = cart.find(item => item.product === product);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({
                        product,
                        name,
                        price,
                        image,
                        quantity: 1
                    });
                }

                updateCart();
                cartSidebar.classList.add('active');
                cartOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });

        // تحديث سلة التسوق
        function updateCart() {
            // تحديث عدد العناصر في السلة
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;

            // تحديث إجمالي السعر
            const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            cartTotal.textContent = totalPrice + ' ريال';

            // تحديث عناصر السلة
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart"><p>سلة التسوق فارغة</p></div>';
                checkoutBtn.style.display = 'none';
            } else {
                cartItems.innerHTML = '';
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.classList.add('cart-item');
                    cartItem.innerHTML = `
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${item.price} ريال</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn minus" data-index="${index}">-</button>
                                <span>${item.quantity}</span>
                                <button class="quantity-btn plus" data-index="${index}">+</button>
                                <button class="cart-item-remove" data-index="${index}">×</button>
                            </div>
                        </div>
                    `;
                    cartItems.appendChild(cartItem);
                });
                checkoutBtn.style.display = 'block';

                // إضافة مستمعي الأحداث لأزرار الكمية
                document.querySelectorAll('.quantity-btn.minus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        if (cart[index].quantity > 1) {
                            cart[index].quantity--;
                        } else {
                            cart.splice(index, 1);
                        }
                        updateCart();
                    });
                });

                document.querySelectorAll('.quantity-btn.plus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart[index].quantity++;
                        updateCart();
                    });
                });

                document.querySelectorAll('.cart-item-remove').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCart();
                    });
                });
            }

            // تخزين السلة في localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // استرجاع السلة من localStorage عند تحميل الصفحة
        window.addEventListener('load', () => {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCart();
            }
        });

        // البحث والتصفية
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const categoryFilter = document.getElementById('category-filter');
        const priceFilter = document.getElementById('price-filter');
        const products = document.querySelectorAll('.product');

        // البحث
        searchBtn.addEventListener('click', filterProducts);
        searchInput.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                filterProducts();
            }
        });

        // التصفية حسب الفئة والسعر
        categoryFilter.addEventListener('change', filterProducts);
        priceFilter.addEventListener('change', filterProducts);

        function filterProducts() {
            const searchTerm = searchInput.value.toLowerCase();
            const category = categoryFilter.value;
            const price = priceFilter.value;

            products.forEach(product => {
                const productName = product.querySelector('h3').textContent.toLowerCase();
                const productDesc = product.querySelector('.product-desc').textContent.toLowerCase();
                const productCategory = product.getAttribute('data-category');
                const productPrice = parseInt(product.getAttribute('data-price'));

                // البحث
                const matchesSearch = productName.includes(searchTerm) || productDesc.includes(searchTerm);

                // التصفية حسب الفئة
                const matchesCategory = category === 'all' || productCategory === category;

                // التصفية حسب السعر
                let matchesPrice = true;
                if (price === 'low') {
                    matchesPrice = productPrice <= 30;
                } else if (price === 'high') {
                    matchesPrice = productPrice > 30;
                }

                // إظهار أو إخفاء المنتج
                if (matchesSearch && matchesCategory && matchesPrice) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>
