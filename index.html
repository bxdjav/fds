<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>متجر R7 الإلكتروني</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">متجر R7</div>
        <nav>
            <ul class="main-menu">
                <li><a href="index.html" class="active">الرئيسية</a></li>
                <li><a href="about.html">عن المتجر</a></li>
                <li><a href="team.html">طاقم الإدارة</a></li>
                <li><a href="rules.html">القوانين</a></li>
                <li><a href="store.html">المتجر</a></li>
                <li><a href="shop-link.html">رابط المتجر</a></li>
                <li><a href="https://discord.gg/wZQHQdvRsJ" target="_blank">دسكورد</a></li>
                <li><a href="faq.html">الأسئلة الشائعة</a></li>
                <li><a href="contact.html">اتصل بنا</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <div class="cart-icon" id="cart-icon">
                <span class="material-icons">shopping_cart</span>
                <span class="cart-count">0</span>
            </div>
            <a href="login.html" class="login-link">تسجيل الدخول</a>
        </div>

        <!-- سلة التسوق -->
        <div class="cart-sidebar" id="cart-sidebar">
            <div class="cart-header">
                <h3>سلة التسوق</h3>
                <button class="close-cart" id="close-cart">×</button>
            </div>
            <div class="cart-items" id="cart-items">
                <!-- ستتم إضافة العناصر هنا بواسطة JavaScript -->
                <div class="empty-cart">
                    <p>سلة التسوق فارغة</p>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <span>المجموع:</span>
                    <span id="cart-total">0 ريال</span>
                </div>
                <a href="payment.html" class="checkout-btn" id="checkout-btn">إتمام الشراء</a>
            </div>
        </div>
        <div class="cart-overlay" id="cart-overlay"></div>
    </header>

    <main>
        <section class="hero">
            <h1>مرحباً بك في متجر R7</h1>
            <p>أفضل متجر للخدمات الإلكترونية في العالم العربي</p>
            <div class="hero-buttons">
                <a href="store.html" class="hero-btn">تصفح المتجر</a>
                <a href="about.html" class="hero-btn secondary">تعرف علينا</a>
            </div>
        </section>

        <section class="features-section">
            <h2>مميزات متجرنا</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <span class="material-icons">verified</span>
                    </div>
                    <h3>جودة عالية</h3>
                    <p>نقدم خدمات ذات جودة عالية ومضمونة 100%</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <span class="material-icons">price_check</span>
                    </div>
                    <h3>أسعار منافسة</h3>
                    <p>أسعارنا منافسة ومناسبة لجميع العملاء</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <span class="material-icons">support_agent</span>
                    </div>
                    <h3>دعم فني 24/7</h3>
                    <p>فريق دعم فني متاح على مدار الساعة لمساعدتك</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <span class="material-icons">security</span>
                    </div>
                    <h3>أمان وخصوصية</h3>
                    <p>نضمن أمان وخصوصية بياناتك الشخصية</p>
                </div>
            </div>
        </section>

        <section class="popular-products">
            <h2>المنتجات الأكثر مبيعاً</h2>
            <div class="products-slider">
                <div class="product">
                    <div class="product-image">
                        <img src="https://cdn.discordapp.com/attachments/1368617391449440379/1368655362424569978/image.png?ex=68190322&is=6817b1a2&hm=316dfab5f3aa51efc66fa549c0c8956fe08dfce2362c2082be14fb3885562627&" alt="نيترو ديسكورد">
                        <div class="product-badge">الأكثر مبيعاً</div>
                    </div>
                    <h3>نيترو</h3>
                    <p class="product-desc">اشترك في نيترو ديسكورد بأفضل الأسعار</p>
                    <p class="price">20 ريال</p>
                    <a href="store.html" class="view-btn">عرض التفاصيل</a>
                </div>
                <div class="product">
                    <div class="product-image">
                        <img src="https://cdn.discordapp.com/attachments/1368617391449440379/1368656529963745341/image.png?ex=68190439&is=6817b2b9&hm=b066f5c71311ef7b827b8a17633f88799e2900234211b6c63d2200caefd09744&" alt="بوستات ديسكورد">
                    </div>
                    <h3>بوستات</h3>
                    <p class="product-desc">احصل على بوستات مميزة لسيرفرك</p>
                    <p class="price">15 ريال</p>
                    <a href="store.html" class="view-btn">عرض التفاصيل</a>
                </div>
                <div class="product">
                    <div class="product-image">
                        <img src="https://cdn.discordapp.com/attachments/1368617391449440379/1368657285672603699/image.png?ex=681904ed&is=6817b36d&hm=a85c653bca5bff1c7c371e1bfd0fefd4bda789ec4dfd535407f081a1308b111f&" alt="بوت R7">
                        <div class="product-badge">جديد</div>
                    </div>
                    <h3>بوت R7</h3>
                    <p class="product-desc">بوت متطور بمميزات فريدة لسيرفرك</p>
                    <p class="price">99 ريال</p>
                    <a href="store.html" class="view-btn">عرض التفاصيل</a>
                </div>
            </div>
            <div class="view-all">
                <a href="store.html" class="view-all-btn">عرض جميع المنتجات</a>
            </div>
        </section>

        <section class="cta-section">
            <h2>انضم إلينا اليوم</h2>
            <p>احصل على أفضل الخدمات الإلكترونية بأسعار منافسة</p>
            <div class="cta-buttons">
                <a href="store.html" class="cta-btn">تصفح المتجر</a>
                <a href="https://discord.gg/wZQHQdvRsJ" target="_blank" class="cta-btn secondary">انضم للديسكورد</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">متجر R7</div>
            <div class="footer-links">
                <a href="index.html">الرئيسية</a>
                <a href="about.html">عن المتجر</a>
                <a href="team.html">طاقم الإدارة</a>
                <a href="rules.html">القوانين</a>
                <a href="store.html">المتجر</a>
                <a href="shop-link.html">رابط المتجر</a>
                <a href="faq.html">الأسئلة الشائعة</a>
                <a href="contact.html">اتصل بنا</a>
                <a href="privacy.html">سياسة الخصوصية</a>
            </div>
            <div class="social-links">
                <a href="#" class="social-link">تويتر</a>
                <a href="#" class="social-link">انستغرام</a>
                <a href="https://discord.gg/wZQHQdvRsJ" class="social-link">ديسكورد</a>
            </div>
        </div>
        <p>جميع الحقوق محفوظة &copy; 2023 متجر R7</p>
    </footer>

    <script>
        // إضافة تأثير النقر على الروابط في القائمة
        document.querySelectorAll('.main-menu a').forEach(link => {
            link.addEventListener('click', function() {
                document.querySelectorAll('.main-menu a').forEach(item => {
                    item.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // سلة التسوق
        const cartIcon = document.getElementById('cart-icon');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartOverlay = document.getElementById('cart-overlay');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartCount = document.querySelector('.cart-count');
        const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
        const checkoutBtn = document.getElementById('checkout-btn');

        // مصفوفة لتخزين عناصر السلة
        let cart = [];

        // فتح سلة التسوق
        cartIcon.addEventListener('click', () => {
            cartSidebar.classList.add('active');
            cartOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        // إغلاق سلة التسوق
        function closeCartSidebar() {
            cartSidebar.classList.remove('active');
            cartOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        closeCart.addEventListener('click', closeCartSidebar);
        cartOverlay.addEventListener('click', closeCartSidebar);

        // إضافة منتج إلى السلة
        addToCartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const product = button.getAttribute('data-product');
                const price = parseInt(button.getAttribute('data-price'));
                const productElement = button.closest('.product');
                const name = productElement.querySelector('h3').textContent;
                const image = productElement.querySelector('.product-image img').src;

                // التحقق مما إذا كان المنتج موجودًا بالفعل في السلة
                const existingItem = cart.find(item => item.product === product);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({
                        product,
                        name,
                        price,
                        image,
                        quantity: 1
                    });
                }

                updateCart();
                cartSidebar.classList.add('active');
                cartOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });

        // تحديث سلة التسوق
        function updateCart() {
            // تحديث عدد العناصر في السلة
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;

            // تحديث إجمالي السعر
            const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            cartTotal.textContent = totalPrice + ' ريال';

            // تحديث عناصر السلة
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart"><p>سلة التسوق فارغة</p></div>';
                checkoutBtn.style.display = 'none';
            } else {
                cartItems.innerHTML = '';
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.classList.add('cart-item');
                    cartItem.innerHTML = `
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${item.price} ريال</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn minus" data-index="${index}">-</button>
                                <span>${item.quantity}</span>
                                <button class="quantity-btn plus" data-index="${index}">+</button>
                                <button class="cart-item-remove" data-index="${index}">×</button>
                            </div>
                        </div>
                    `;
                    cartItems.appendChild(cartItem);
                });
                checkoutBtn.style.display = 'block';

                // إضافة مستمعي الأحداث لأزرار الكمية
                document.querySelectorAll('.quantity-btn.minus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        if (cart[index].quantity > 1) {
                            cart[index].quantity--;
                        } else {
                            cart.splice(index, 1);
                        }
                        updateCart();
                    });
                });

                document.querySelectorAll('.quantity-btn.plus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart[index].quantity++;
                        updateCart();
                    });
                });

                document.querySelectorAll('.cart-item-remove').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCart();
                    });
                });
            }

            // تخزين السلة في localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // استرجاع السلة من localStorage عند تحميل الصفحة
        window.addEventListener('load', () => {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCart();
            }
        });

        // إضافة معلومات السلة إلى صفحة الدفع
        checkoutBtn.addEventListener('click', (e) => {
            localStorage.setItem('cartTotal', cartTotal.textContent);
        });
    </script>
</body>
</html>