<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اتصل بنا - متجر R7 الإلكتروني</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">متجر R7</div>
        <nav>
            <ul class="main-menu">
                <li><a href="index.html#home">الرئيسية</a></li>
                <li><a href="index.html#about">عن المتجر</a></li>
                <li><a href="index.html#team">طاقم الإدارة</a></li>
                <li><a href="index.html#rules">القوانين</a></li>
                <li><a href="index.html#store">المتجر</a></li>
                <li><a href="https://discord.gg/wZQHQdvRsJ" target="_blank">دسكورد</a></li>
                <li><a href="faq.html">الأسئلة الشائعة</a></li>
                <li><a href="contact.html" class="active">اتصل بنا</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <div class="cart-icon" id="cart-icon">
                <span class="material-icons">shopping_cart</span>
                <span class="cart-count">0</span>
            </div>
            <a href="login.html" class="login-link">تسجيل الدخول</a>
        </div>

        <!-- سلة التسوق -->
        <div class="cart-sidebar" id="cart-sidebar">
            <div class="cart-header">
                <h3>سلة التسوق</h3>
                <button class="close-cart" id="close-cart">×</button>
            </div>
            <div class="cart-items" id="cart-items">
                <!-- ستتم إضافة العناصر هنا بواسطة JavaScript -->
                <div class="empty-cart">
                    <p>سلة التسوق فارغة</p>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <span>المجموع:</span>
                    <span id="cart-total">0 ريال</span>
                </div>
                <a href="payment.html" class="checkout-btn" id="checkout-btn">إتمام الشراء</a>
            </div>
        </div>
        <div class="cart-overlay" id="cart-overlay"></div>
    </header>

    <main>
        <section class="contact-section">
            <h1>اتصل بنا</h1>
            <p class="section-desc">نحن هنا للإجابة على استفساراتك</p>

            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <span class="material-icons">discord</span>
                        </div>
                        <h3>دسكورد</h3>
                        <p>انضم إلى سيرفر الدسكورد الخاص بنا للتواصل المباشر مع فريق الدعم</p>
                        <a href="https://discord.gg/wZQHQdvRsJ" target="_blank" class="contact-link">الانضمام للسيرفر</a>
                    </div>

                    <div class="contact-card">
                        <div class="contact-icon">
                            <span class="material-icons">email</span>
                        </div>
                        <h3>البريد الإلكتروني</h3>
                        <p>يمكنك مراسلتنا عبر البريد الإلكتروني وسنرد عليك في أقرب وقت ممكن</p>
                        <a href="mailto:support@r7store.com" class="contact-link">support@r7store.com</a>
                    </div>

                    <div class="contact-card">
                        <div class="contact-icon">
                            <span class="material-icons">schedule</span>
                        </div>
                        <h3>أوقات العمل</h3>
                        <p>فريق الدعم متواجد للرد على استفساراتكم</p>
                        <p class="contact-detail">من السبت إلى الخميس: 10 صباحًا - 10 مساءً</p>
                        <p class="contact-detail">الجمعة: 2 ظهرًا - 10 مساءً</p>
                    </div>
                </div>

                <div class="contact-form-container">
                    <h2>أرسل لنا رسالة</h2>
                    <form class="contact-form" id="contact-form">
                        <div class="form-group">
                            <label for="name">الاسم</label>
                            <input type="text" id="name" name="name" required placeholder="أدخل اسمك">
                        </div>
                        <div class="form-group">
                            <label for="email">البريد الإلكتروني</label>
                            <input type="email" id="email" name="email" required placeholder="أدخل بريدك الإلكتروني">
                        </div>
                        <div class="form-group">
                            <label for="subject">الموضوع</label>
                            <select id="subject" name="subject" required>
                                <option value="" disabled selected>اختر موضوع الرسالة</option>
                                <option value="استفسار">استفسار عام</option>
                                <option value="مشكلة">مشكلة في المنتج</option>
                                <option value="اقتراح">اقتراح</option>
                                <option value="أخرى">أخرى</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message">الرسالة</label>
                            <textarea id="message" name="message" required placeholder="اكتب رسالتك هنا"></textarea>
                        </div>
                        <button type="submit" class="submit-btn">إرسال الرسالة</button>
                    </form>
                </div>
            </div>

            <div class="faq-link">
                <h3>هل لديك أسئلة شائعة؟</h3>
                <p>قد تجد إجابة على استفسارك في صفحة <a href="faq.html">الأسئلة الشائعة</a>.</p>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">متجر R7</div>
            <div class="footer-links">
                <a href="index.html#home">الرئيسية</a>
                <a href="index.html#about">عن المتجر</a>
                <a href="index.html#team">طاقم الإدارة</a>
                <a href="index.html#rules">القوانين</a>
                <a href="index.html#store">المتجر</a>
                <a href="faq.html">الأسئلة الشائعة</a>
                <a href="contact.html">اتصل بنا</a>
                <a href="privacy.html">سياسة الخصوصية</a>
            </div>
            <div class="social-links">
                <a href="#" class="social-link">تويتر</a>
                <a href="#" class="social-link">انستغرام</a>
                <a href="https://discord.gg/wZQHQdvRsJ" class="social-link">ديسكورد</a>
            </div>
        </div>
        <p>جميع الحقوق محفوظة &copy; 2023 متجر R7</p>
    </footer>

    <script>
        // سلة التسوق
        const cartIcon = document.getElementById('cart-icon');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartOverlay = document.getElementById('cart-overlay');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartCount = document.querySelector('.cart-count');
        const checkoutBtn = document.getElementById('checkout-btn');

        // مصفوفة لتخزين عناصر السلة
        let cart = [];

        // فتح سلة التسوق
        cartIcon.addEventListener('click', () => {
            cartSidebar.classList.add('active');
            cartOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        // إغلاق سلة التسوق
        function closeCartSidebar() {
            cartSidebar.classList.remove('active');
            cartOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        closeCart.addEventListener('click', closeCartSidebar);
        cartOverlay.addEventListener('click', closeCartSidebar);

        // تحديث سلة التسوق
        function updateCart() {
            // تحديث عدد العناصر في السلة
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;

            // تحديث إجمالي السعر
            const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            cartTotal.textContent = totalPrice + ' ريال';

            // تحديث عناصر السلة
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart"><p>سلة التسوق فارغة</p></div>';
                checkoutBtn.style.display = 'none';
            } else {
                cartItems.innerHTML = '';
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.classList.add('cart-item');
                    cartItem.innerHTML = `
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${item.price} ريال</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn minus" data-index="${index}">-</button>
                                <span>${item.quantity}</span>
                                <button class="quantity-btn plus" data-index="${index}">+</button>
                                <button class="cart-item-remove" data-index="${index}">×</button>
                            </div>
                        </div>
                    `;
                    cartItems.appendChild(cartItem);
                });
                checkoutBtn.style.display = 'block';

                // إضافة مستمعي الأحداث لأزرار الكمية
                document.querySelectorAll('.quantity-btn.minus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        if (cart[index].quantity > 1) {
                            cart[index].quantity--;
                        } else {
                            cart.splice(index, 1);
                        }
                        updateCart();
                    });
                });

                document.querySelectorAll('.quantity-btn.plus').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart[index].quantity++;
                        updateCart();
                    });
                });

                document.querySelectorAll('.cart-item-remove').forEach(button => {
                    button.addEventListener('click', () => {
                        const index = parseInt(button.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCart();
                    });
                });
            }

            // تخزين السلة في localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // استرجاع السلة من localStorage عند تحميل الصفحة
        window.addEventListener('load', () => {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCart();
            }
        });

        // نموذج الاتصال
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            // هنا يمكنك إضافة كود لإرسال البيانات إلى الخادم
            // لكن في هذا المثال سنكتفي بعرض رسالة نجاح

            alert(`تم إرسال رسالتك بنجاح!\n\nالاسم: ${name}\nالبريد الإلكتروني: ${email}\nالموضوع: ${subject}\nالرسالة: ${message}`);

            // إعادة تعيين النموذج
            this.reset();
        });
    </script>
</body>
</html>
